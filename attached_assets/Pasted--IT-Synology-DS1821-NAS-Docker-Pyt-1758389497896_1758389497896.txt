(주)피앤디아이앤씨의 IT장비 대여 관리 시스템을 만들어줘.
Synology DS1821+ NAS에 Docker 컨테이너로 배포 예정.

=== 기본 설정 ===
- Python Flask 웹앱
- SQLite 데이터베이스 (5년간 데이터 보존)
- Bootstrap 반응형 디자인 (PC 브라우저 전용)
- Docker Compose로 배포 (포트 8090)

=== 사용자 인증 ===
- 간단한 로그인: 다우오피스 아이디 + 이름 입력
  (다우오피스 아이디: 이메일 주소에서 @앞 부분만 사용)
- 세션 기반 인증 (8시간 자동 로그아웃)  
- 권한: 관리자(상품운용팀) / 일반사용자(기술본부)


=== 물품 관리 구조 ===
물품 등록 화면 구성:
- 카테고리: Router, Switch, Wireless, 트랜시버, 소모품 (드롭다운 선택)
- 품명: 자유 입력 (예: HUAWEI AR6120, LC-LC 광점퍼코드 등)
- 모델번호: 자유 입력 (선택사항)
- 시리얼넘버: Router/Switch/Wireless/트랜시버만 필수, 소모품은 입력 안함
- 상태: 대여가능/대여불가 (드롭다운 선택)
- 비고: 자유 입력 (선택사항)

=== 핵심 기능 ===
1. 물품 관리 (관리자만)
   - 물품 등록: 카테고리별 품명 자유 입력
   - 물품 수정/삭제
   - 시리얼 넘버 관리 (소모품 제외)
   - 물품 상태 변경 (대여가능/대여불가)
   - 물품 목록 조회 (카테고리별 필터링 가능)

2. 대여 프로세스
   - 사용자: 대여 신청 (카테고리 → 품명 선택, 기간 입력)
   - 관리자: 승인/거부 처리
   - 소모품류는 관리자 2명 모두 승인 필요
   - 일반 물품(Router/Switch/Wireless/트랜시버)은 관리자 1명 승인
   - 반납 승인 처리

3. 현황 조회
   - 전체 대여 현황 (카테고리별/사용자별 필터링)
   - 개인별 대여 내역
   - 연체 현황
   - 물품별 대여 이력

4. 알림 시스템 (SMTP 이메일)
   - 대여 신청시 → 관리자에게 승인 요청 메일 (물품정보, 신청자, 기간 포함)
   - 반납 예정일 → 사용자에게 반납 알림
   - 연체시 → 2일마다 반납 독촉 메일
   - 메일 내용에 "반납 기간 연장은 시스템에서 신청 가능" 안내 포함

=== 데이터베이스 구조 ===
주요 테이블:

1. users 테이블:
- daou_id: 다우오피스 아이디 (PRIMARY KEY)
- name: 이름
- department: 부서 (상품운용팀/기술본부)
- role: 권한 (admin/user)
- email: 전체 이메일 주소 (알림용)
- created_at: 등록일

2. items 테이블:
- item_id: 물품 ID (PRIMARY KEY)
- category: 카테고리 (Router/Switch/Wireless/트랜시버/소모품)
- name: 품명 (HUAWEI AR6120 등)
- model: 모델번호 (선택사항)
- serial_number: 시리얼넘버 (소모품 제외)
- status: 상태 (대여가능/대여불가)
- note: 비고 (선택사항)
- created_at: 등록일
- created_by: 등록자 (daou_id 참조)

3. rentals 테이블:
- rental_id: 대여 ID (PRIMARY KEY)
- item_id: 물품 ID (items 테이블 참조)
- user_id: 사용자 ID (users 테이블 daou_id 참조)
- rental_date: 대여일
- expected_return_date: 반납예정일
- actual_return_date: 실제반납일 (NULL 가능)
- status: 상태 (신청중/승인/대여중/반납완료/거절)
- created_at: 신청일

4. approvals 테이블:
- approval_id: 승인 ID (PRIMARY KEY)
- rental_id: 대여 ID (rentals 테이블 참조)
- approver_id: 승인자 ID (users 테이블 daou_id 참조)
- approval_date: 승인일
- approval_status: 승인상태 (승인/거절/대기)
- note: 승인 메모 (선택사항)

물품 시리얼넘버 관리:
- Router/Switch/Wireless/트랜시버: 시리얼넘버 필수
- 소모품: 시리얼넘버 NULL 허용

5년간 모든 기록 보존, 삭제된 물품도 이력 유지

=== 사용자 인터페이스 ===
주요 화면:
1. 로그인 화면
2. 대시보드 (개인 대여 현황, 전체 현황 요약)
3. 대여 신청 (카테고리 선택 → 사용가능한 품목 표시 → 신청)
4. 내 대여 현황
5. 전체 대여 현황 (모든 사용자)
6. 관리자 메뉴: 물품 등록/관리, 승인 처리, 사용자 관리

=== 배포 환경 ===
- requirements.txt 포함
- Dockerfile 및 docker-compose.yml 생성
- 환경변수로 SMTP 설정 분리
- NAS 볼륨 마운트 (/app/data)
- 로그 파일 생성 및 관리
- SQLite DB 파일은 볼륨에 저장

=== 보안 요구사항 ===
- 내부망에서만 접근
- 접속 로그 기록
- 세션 보안 처리
- CSRF 보호 적용
- 사용자 입력 검증

이 요구사항에 맞춰서 실용적이고 안정적인 물자 대여 관리 시스템을 개발해줘.
